C51 COMPILER V9.54   SUPERAUDIBLE                                                          04/17/2025 09:23:28 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE SUPERAUDIBLE
OBJECT MODULE PLACED IN .\Objects\Superaudible.obj
COMPILER INVOKED BY: D:\KEIL 5C51\C51\BIN\C51.EXE Superaudible.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Lis
                    -tings\Superaudible.lst) OBJECT(.\Objects\Superaudible.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Car_Move.h"
   3          #include "Delay.h"
   4          #include "Intrins.h"
   5          #include "Timer1.h"
   6          
   7          sbit Trig=P2^6;         //超声波测距发射端位点
   8          sbit Echo=P2^7;         //超声波测距接收端位点
   9          
  10          unsigned int Distance;                  //超声波测距结果
  11          unsigned int MinDistance=20;    //小车与障碍物的限制距离 
  12          
  13          void Delay20us(void)    //@11.0592MHz
  14          {
  15   1              unsigned char data i;
  16   1              _nop_();
  17   1              i = 6;
  18   1              while (--i);
  19   1      }
  20          
  21          void Superaudible(void)
  22          {
  23   1              TMOD = 0x11;
  24   1              TL1 = 0;                //设置定时初值
  25   1              TH1 = 0;                //设置定时初值
  26   1              Trig=1;                 //发射一段脉冲，至少20us
  27   1              Delay20us();
  28   1              Trig=0;
  29   1              
  30   1              while(!Echo);   //等待超声波模块的返回脉冲
  31   1              TR1=1;                  //打开定时器
  32   1              while(Echo);    //等待超声波模块返回脉冲结束
  33   1              TR1=0;                  //关闭定时器，计时结束
  34   1              
  35   1              Distance=((TH1*256+TL1)*1.7)/100;               //计算距离  单位：cm
  36   1              if(Distance<MinDistance)
  37   1              {
  38   2                      Car_Stop();
  39   2                      Delay(1000);
  40   2              }       
  41   1              else
  42   1                      Car_Go(9);
  43   1              
  44   1              
  45   1      }
  46          
  47          
  48          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    104    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.54   SUPERAUDIBLE                                                          04/17/2025 09:23:28 PAGE 2   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
